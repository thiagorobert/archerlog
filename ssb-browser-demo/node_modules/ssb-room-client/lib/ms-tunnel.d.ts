import { Callback, ConnectOpts, SSBWithConn } from './types';
import RoomObserver from './room-observer';
import { FeedId } from 'ssb-typescript';
declare type Rooms = Map<FeedId, RoomObserver>;
declare const _default: (rooms: Rooms, ssb: SSBWithConn) => (msConfig: any) => {
    name: string;
    scope(): any;
    server(onConnect: (stream: any) => void, startedCB: Callback): () => void;
    client(addr: string | ConnectOpts, cb: Callback): Promise<void>;
    parse(addr: string | ConnectOpts): ConnectOpts | {
        name: string;
        portal: string;
        target: string;
    } | undefined;
    stringify(): undefined;
};
export default _default;
